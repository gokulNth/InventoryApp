{"ast":null,"code":"import _objectSpread from \"D:\\\\firebase-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"D:\\\\firebase-app\\\\src\\\\Components\\\\Dashboard.js\";\nimport React from \"react\";\nimport { fetch } from \"../Fetches\";\nimport ItemList from \"./ItemList\";\nimport SelectedItemList from \"./Selected_ItemList\";\nimport { Link } from \"react-router-dom\";\n\nclass Dashboard extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.fetchData = async () => {\n      let a = await fetch();\n      await console.log(\"fetch_over\");\n      await a.forEach(async doc => {\n        await this.state.products.push(_objectSpread({}, doc.data(), {\n          id: doc.id\n        }));\n      });\n      (await this.state.products.length) !== 0 && this.setState({\n        isloading: \"\"\n      });\n      (await a.size) === 0 && this.setState({\n        isloading: \"serverError\"\n      });\n    };\n\n    this.change = async e => {\n      let name = e.target.id;\n      let value = e.target.value;\n      if (+value === 0) console.log(value, \"item\");\n      let a = Object.assign({}, this.state.selected_items, _objectSpread({}, this.state.selected_items, {\n        [name]: _objectSpread({}, this.state.selected_items[name], {\n          req: +value,\n          totPrice: +this.state.products.filter(i => i.Name === name).map(i => i.Price)[0] * value\n        })\n      }));\n      await this.setState({\n        selected_items: a\n      });\n      await this.tot();\n    };\n\n    this.add = async e => {\n      let a = e.target.id;\n      let item = this.state.products.filter(i => i.Name === a);\n\n      if (!this.state.items.includes(a)) {\n        console.log(\"Added\", e.target.id);\n        this.setState(prev => {\n          return {\n            selected_items: _objectSpread({}, prev.selected_items, {\n              [a]: {\n                req: 1,\n                totavail: +item.map(i => i.Avail)[0],\n                id: this.state.products.filter(i => i.Name === a).map(i => i.id)[0],\n                totPrice: +item.map(i => i.Price)[0],\n                price: +item.map(i => i.Price)[0]\n              }\n            })\n          };\n        });\n        await this.setState({\n          items: [...this.state.items, a]\n        });\n        await this.tot();\n      }\n    };\n\n    this.tot = () => {\n      console.log(\"in tot\");\n      let a = this.state.items.length !== 0 ? this.state.items.map(i => {\n        return this.state.selected_items[i].totPrice;\n      }).reduce(this.summation) : 0;\n      this.setState({\n        totPrice: a\n      });\n    };\n\n    this.delete = async e => {\n      let name = e.target.id;\n      let res = Object.assign({}, this.state.selected_items);\n      console.log(res);\n      delete res[name];\n      console.log(res);\n      await this.setState({\n        items: this.state.items.filter(i => i !== name)\n      });\n      await this.setState({\n        selected_items: res\n      });\n      await this.tot();\n    };\n\n    this.summation = (a, b) => a + b;\n\n    this.state = {\n      products: [],\n      selected_items: [],\n      items: [],\n      totPrice: 0,\n      isloading: \"Loading...\"\n    };\n  }\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, this.state.isloading === \"\" ? React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col s12 m6 l7\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, this.state.products.map(i => {\n      return React.createElement(ItemList, {\n        item: i,\n        key: i.Name,\n        add: this.add,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      });\n    }))), React.createElement(\"div\", {\n      className: \"col s12 m6 l5 z-depth-5 \",\n      style: {\n        overflow: \"auto\",\n        marginTop: \"1%\",\n        minHeight: \"100%\",\n        height: 520\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, this.state.items && this.state.items.map((i, index) => {\n      return React.createElement(SelectedItemList, {\n        item: this.state.selected_items[i],\n        name: i,\n        change: this.change,\n        key: index,\n        delt: this.delete,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      });\n    })), React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        position: \"fixed\",\n        bottom: 0,\n        width: \"40%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, this.state.items.length !== 0 ? React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col s12 m6 l6\",\n      style: {\n        marginBottom: 0\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: {\n        pathname: \"/billing...\",\n        state: {\n          item: this.state.selected_items,\n          bill: this.state.totPrice,\n          all: this.state.items\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"waves-effect waves-light btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"Bill it!\"))), React.createElement(\"div\", {\n      className: \"col s12 m6 l6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, \"Grand Total :\", this.state.totPrice))) : null))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    })) : this.state.isloading === 'Loading...' ? React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"progress\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"indeterminate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    })), React.createElement(\"h1\", {\n      style: {\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, \"Loading....\")) : React.createElement(\"h1\", {\n      style: {\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, \"Server Error\"));\n  }\n\n}\n\nexport default Dashboard;","map":{"version":3,"sources":["D:\\firebase-app\\src\\Components\\Dashboard.js"],"names":["React","fetch","ItemList","SelectedItemList","Link","Dashboard","Component","constructor","props","fetchData","a","console","log","forEach","doc","state","products","push","data","id","length","setState","isloading","size","change","e","name","target","value","Object","assign","selected_items","req","totPrice","filter","i","Name","map","Price","tot","add","item","items","includes","prev","totavail","Avail","price","reduce","summation","delete","res","b","componentDidMount","render","overflow","marginTop","minHeight","height","index","position","bottom","width","marginBottom","pathname","bill","all","textAlign"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { fetch } from \"../Fetches\";\r\nimport ItemList from \"./ItemList\";\r\nimport SelectedItemList from \"./Selected_ItemList\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass Dashboard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      products: [],\r\n      selected_items: [],\r\n      items: [],\r\n      totPrice: 0,\r\n      isloading: \"Loading...\"\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.fetchData();\r\n  }\r\n  fetchData = async () => {\r\n    let a = await fetch();\r\n    await console.log(\"fetch_over\");\r\n    await a.forEach(async doc => {\r\n      await this.state.products.push({ ...doc.data(), id: doc.id });\r\n    });\r\n    await this.state.products.length !== 0 && this.setState({ isloading: \"\" });\r\n    await a.size === 0 && this.setState({isloading : \"serverError\"})\r\n  };\r\n  change = async e => {\r\n    let name = e.target.id;\r\n    let value = e.target.value;\r\n    if(+value === 0)\r\n    console.log(value ,\"item\")\r\n    let a = Object.assign({}, this.state.selected_items, {\r\n      ...this.state.selected_items,\r\n      [name]: {\r\n        ...this.state.selected_items[name],\r\n        req: +value,\r\n        totPrice:\r\n          +this.state.products\r\n            .filter(i => i.Name === name)\r\n            .map(i => i.Price)[0] * value\r\n      }\r\n    });\r\n    await this.setState({ selected_items: a });\r\n    await this.tot();\r\n  };\r\n  add = async e => {\r\n    let a = e.target.id;\r\n    let item = this.state.products.filter(i => i.Name === a);\r\n    if (!this.state.items.includes(a)) {\r\n      console.log(\"Added\", e.target.id);\r\n      this.setState(prev => {\r\n        return {\r\n          selected_items: {\r\n            ...prev.selected_items,\r\n            [a]: {\r\n              req: 1,\r\n              totavail: +item.map(i => i.Avail)[0],\r\n              id: this.state.products\r\n                .filter(i => i.Name === a)\r\n                .map(i => i.id)[0],\r\n              totPrice: +item.map(i => i.Price)[0],\r\n              price: +item.map(i => i.Price)[0]\r\n            }\r\n          }\r\n        };\r\n      });\r\n      await this.setState({\r\n        items: [...this.state.items, a]\r\n      });\r\n      await this.tot();\r\n    }\r\n  };\r\n  tot = () => {\r\n    console.log(\"in tot\");\r\n    let a =\r\n      this.state.items.length !== 0\r\n        ? this.state.items\r\n            .map(i => {\r\n              return this.state.selected_items[i].totPrice;\r\n            })\r\n            .reduce(this.summation)\r\n        : 0;\r\n    this.setState({ totPrice: a });\r\n  };\r\n  delete = async e => {\r\n    let name = e.target.id;\r\n    let res = Object.assign({}, this.state.selected_items);\r\n    console.log(res);\r\n    delete res[name];\r\n    console.log(res);\r\n    await this.setState({ items: this.state.items.filter(i => i !== name) });\r\n    await this.setState({ selected_items: res });\r\n    await this.tot();\r\n  };\r\n  summation = (a, b) => a + b;\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.state.isloading === \"\" ? (\r\n          <div className='row'>\r\n            <div className='col s12 m6 l7'>\r\n              <div className='row'>\r\n                {this.state.products.map(i => {\r\n                  return <ItemList item={i} key={i.Name} add={this.add} />;\r\n                })}\r\n              </div>\r\n            </div>\r\n            <div\r\n              className='col s12 m6 l5 z-depth-5 '\r\n              style={{\r\n                overflow: \"auto\",\r\n                marginTop:\"1%\",\r\n                minHeight: \"100%\",\r\n                height: 520\r\n              }}\r\n            >\r\n              <div>\r\n                {this.state.items &&\r\n                  this.state.items.map((i, index) => {\r\n                    return (\r\n                      <SelectedItemList\r\n                        item={this.state.selected_items[i]}\r\n                        name={i}\r\n                        change={this.change}\r\n                        key={index}\r\n                        delt={this.delete}\r\n                      />\r\n                    );\r\n                  })}\r\n              </div>\r\n          <div className=\"container\">\r\n          <div style={{ position: \"fixed\", bottom: 0, width: \"40%\" }}>\r\n                {this.state.items.length !== 0 ? (\r\n                  <div className='row'>\r\n                    <div className='col s12 m6 l6' style={{marginBottom:0}} >\r\n                      <Link\r\n                        to={{\r\n                          pathname: \"/billing...\",\r\n                          state: {\r\n                            item: this.state.selected_items,\r\n                            bill: this.state.totPrice,\r\n                            all: this.state.items\r\n                          }\r\n                        }}\r\n                      >\r\n                      <button className='waves-effect waves-light btn'>\r\n                        Bill it!\r\n                      </button>\r\n                      </Link>\r\n                    </div>\r\n                    <div className='col s12 m6 l6'>\r\n                      <h5>Grand Total :{this.state.totPrice}</h5>\r\n                    </div>\r\n                  </div>\r\n                ) : null}\r\n              </div>\r\n          </div>\r\n            </div>\r\n            <br />\r\n          </div>\r\n        ) : (\r\n          this.state.isloading === 'Loading...' ?\r\n          <React.Fragment>\r\n          <div className='progress'>\r\n            <div className='indeterminate' />\r\n          </div>\r\n          <h1 style={{textAlign:'center'}} >Loading....</h1>\r\n          </React.Fragment>\r\n          :<h1 style={{textAlign:'center'}} >Server Error</h1>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Dashboard;\r\n"]},"metadata":{},"sourceType":"module"}