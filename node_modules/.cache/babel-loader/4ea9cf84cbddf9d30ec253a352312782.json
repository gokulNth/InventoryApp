{"ast":null,"code":"import _objectSpread from \"D:\\\\firebase-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"D:\\\\firebase-app\\\\src\\\\Components\\\\Dashboard.js\";\nimport React from \"react\";\nimport { fetch } from \"../Fetches\";\nimport ItemList from \"./ItemList\";\nimport SelectedItemList from \"./Selected_ItemList\";\nimport { Link } from \"react-router-dom\";\n\nclass Dashboard extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.fetchData = async () => {\n      let a = await fetch();\n      await console.log(\"fetch_over\");\n      await a.forEach(async doc => {\n        await this.state.products.push(_objectSpread({}, doc.data(), {\n          id: doc.id\n        }));\n      });\n      this.state.products && this.setState({\n        isloading: \"\"\n      });\n    };\n\n    this.change = async e => {\n      let name = e.target.id;\n      let value = e.target.value;\n      let a = Object.assign({}, this.state.selected_items, _objectSpread({}, this.state.selected_items, {\n        [name]: {\n          req: value,\n          totPrice: +this.state.products.filter(i => i.Name === name).map(i => i.Price)[0] * value\n        }\n      }));\n      console.log(a);\n      this.setState({\n        selected_items: a\n      });\n    };\n\n    this.add = e => {\n      let a = e.target.id;\n\n      if (!this.state.items.includes(a)) {\n        console.log(\"Added\", e.target.id);\n        this.setState(prev => {\n          return {\n            selected_items: _objectSpread({}, prev.selected_items, {\n              [this.state.products.filter(i => i.Name === a).map(i => i.Name)[0]]: {\n                req: 1,\n                totPrice: +this.state.products.filter(i => i.Name === a).map(i => i.Price)[0]\n              }\n            })\n          };\n        });\n        this.setState({\n          items: [...this.state.items, a]\n        });\n      }\n    };\n\n    this.summation = (a, b) => a + b;\n\n    this.state = {\n      products: [],\n      selected_items: [],\n      items: [],\n      isloading: \"Loading...\"\n    };\n  }\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col s12 m6 l6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, this.state.isloading), this.state.isloading !== \"Loading...\" && this.state.products.map(i => {\n      return React.createElement(ItemList, {\n        item: i,\n        key: i.Name,\n        add: this.add,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      });\n    })), React.createElement(\"div\", {\n      className: \"col s12 m6 l6\",\n      style: {\n        overflow: \"auto\",\n        backgroundColor: \"rgb(213, 237, 218)\",\n        minHeight: \"100%\",\n        height: 520\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, this.state.items && this.state.items.map((i, index) => {\n      return React.createElement(SelectedItemList, {\n        item: this.state.selected_items[i],\n        name: i,\n        change: this.change,\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      });\n    }))), React.createElement(\"div\", {\n      style: {\n        position: \"fixed\",\n        bottom: 0,\n        width: \"40%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, this.state.selected_items.length !== 0 ? React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col s12 m6 l8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(Link, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"waves-effect waves-light btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"Bill it!\"))), React.createElement(\"div\", {\n      className: \"col s12 m6 l4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"Grand Total :\", this.state.items.map(i => {\n      return this.state.selected_items[i].totPrice;\n    }).reduce(this.summation)))) : null)), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Dashboard;","map":{"version":3,"sources":["D:\\firebase-app\\src\\Components\\Dashboard.js"],"names":["React","fetch","ItemList","SelectedItemList","Link","Dashboard","Component","constructor","props","fetchData","a","console","log","forEach","doc","state","products","push","data","id","setState","isloading","change","e","name","target","value","Object","assign","selected_items","req","totPrice","filter","i","Name","map","Price","add","items","includes","prev","summation","b","componentDidMount","render","overflow","backgroundColor","minHeight","height","index","position","bottom","width","length","reduce"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { fetch } from \"../Fetches\";\r\nimport ItemList from \"./ItemList\";\r\nimport SelectedItemList from \"./Selected_ItemList\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass Dashboard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      products: [],\r\n      selected_items: [],\r\n      items: [],\r\n      isloading: \"Loading...\"\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.fetchData();\r\n  }\r\n  fetchData = async () => {\r\n    let a = await fetch();\r\n    await console.log(\"fetch_over\");\r\n    await a.forEach(async doc => {\r\n      await this.state.products.push({ ...doc.data(), id: doc.id });\r\n    });\r\n    this.state.products && this.setState({ isloading: \"\" });\r\n  };\r\n  change = async e => {\r\n    let name = e.target.id;\r\n    let value = e.target.value;\r\n    let a = Object.assign({}, this.state.selected_items, {\r\n      ...this.state.selected_items,\r\n      [name]: {\r\n        req: value,\r\n        totPrice:\r\n          +this.state.products\r\n            .filter(i => i.Name === name)\r\n            .map(i => i.Price)[0] * value\r\n      }\r\n    });\r\n    console.log(a);\r\n    this.setState({ selected_items: a });\r\n  };\r\n  add = e => {\r\n    let a = e.target.id;\r\n    if (!this.state.items.includes(a)) {\r\n      console.log(\"Added\", e.target.id);\r\n      this.setState(prev => {\r\n        return {\r\n          selected_items: {\r\n            ...prev.selected_items,\r\n            [this.state.products\r\n              .filter(i => i.Name === a)\r\n              .map(i => i.Name)[0]]: {\r\n              req: 1,\r\n              totPrice: +this.state.products\r\n                .filter(i => i.Name === a)\r\n                .map(i => i.Price)[0]\r\n            }\r\n          }\r\n        };\r\n      });\r\n      this.setState({\r\n        items: [...this.state.items, a]\r\n      });\r\n    }\r\n  };\r\n  summation = (a, b) => a + b;\r\n  render() {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col s12 m6 l6\">\r\n          <h5>{this.state.isloading}</h5>\r\n          {this.state.isloading !== \"Loading...\" &&\r\n            this.state.products.map(i => {\r\n              return <ItemList item={i} key={i.Name} add={this.add} />;\r\n            })}\r\n        </div>\r\n        <div\r\n          className=\"col s12 m6 l6\"\r\n          style={{\r\n            overflow: \"auto\",\r\n            backgroundColor: \"rgb(213, 237, 218)\",\r\n            minHeight: \"100%\",\r\n            height: 520\r\n          }}\r\n        >\r\n          <table>\r\n            <tbody>\r\n              {this.state.items &&\r\n                this.state.items.map((i, index) => {\r\n                  return (\r\n                    <SelectedItemList\r\n                      item={this.state.selected_items[i]}\r\n                      name={i}\r\n                      change={this.change}\r\n                      key={index}\r\n                    />\r\n                  );\r\n                })}\r\n            </tbody>\r\n          </table>\r\n          <div style={{ position: \"fixed\", bottom: 0, width: \"40%\" }}>\r\n            {this.state.selected_items.length !== 0 ? (\r\n              <div className=\"row\">\r\n                <div className=\"col s12 m6 l8\">\r\n                  <Link>\r\n                    <button className=\"waves-effect waves-light btn\">\r\n                      Bill it!\r\n                    </button>\r\n                  </Link>\r\n                </div>\r\n                <div className=\"col s12 m6 l4\">\r\n                  <h5>\r\n                    Grand Total :\r\n                    {this.state.items\r\n                      .map(i => {\r\n                        return this.state.selected_items[i].totPrice;\r\n                      })\r\n                      .reduce(this.summation)}\r\n                  </h5>\r\n                </div>\r\n              </div>\r\n            ) : null}\r\n          </div>\r\n        </div>\r\n        <br />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Dashboard;\r\n"]},"metadata":{},"sourceType":"module"}